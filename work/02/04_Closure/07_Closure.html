<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>內存溢出與內存泄露</title>
</head>
<body>
    <script>
        /*
        1.內存溢出：
            ＊ 一種程式運行出現的錯誤。
            ＊ 當程式執行需要的內存大於僅剩的內存時，就會出現內存溢出的錯誤。

        2.內存洩漏：
            ＊ 佔用的內存沒有即時釋放。
            ＊ 內存洩漏累積多了，就容易導致內存溢出。
            ＊ 常見的內存泄露： 
                ＊ 意外的全局變量。
                ＊ 沒有即時清理的計時器或回調函數。
                ＊ 閉包。
        */
       //內存溢出：
        // var obj = {};
        // for(var i = 0; i < 1000; i++ ){
        //     obj[i] = new Array(1000)
        //     console.log(obj[i])
        // }

        //內存洩漏 意外的全局變量。
        // 此時 a 並沒有隨著函數調用結束而釋放變量
        var a = 10;
        function a1(){
            a = 20;
            console.log(a)
        }
        a1();

        //使用定時器沒有結束
       var timer = setInterval(function() {
     console.log('Hello World!');
        }, 500);
        // clearInterval(timer)

        // 使用閉包沒有釋放
        function a1(){
            var b =1;
           return function a2(){
                b++
                console.log(b)
            }
        }
         var c =a1();
         c();
        //  c = null;

    </script>
</body>
</html>